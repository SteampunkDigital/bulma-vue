import{defineComponent as w,toRefs as y,ref as k,provide as V,watch as g,h as l,Teleport as E,inject as L}from"vue";const u=w({name:"b-modal",props:{modelValue:{type:Boolean,required:!0},width:{type:Number,default:960,required:!1},component:{type:Object,required:!1},fullScreen:Boolean,hasModalCard:Boolean},emits:["update:modelValue","close"],setup(o,{slots:s,emit:a}){const{modelValue:t,width:v,component:c,fullScreen:p,hasModalCard:r}=y(o),n=k(null);function d(e){a("close",e),!(e!==void 0&&e.defaultPrevented)&&a("update:modelValue",!t.value)}V("modal",{close:d});function i(e){e.key==="Escape"&&(a("close"),a("update:modelValue",!t.value))}function m(e){e.target.className==="modal-background"&&(a("close"),a("update:modelValue",!t.value))}return g(t,e=>{e?(document.addEventListener("keydown",i),n.value?.addEventListener("click",m)):(document.removeEventListener("keydown",i),n.value?.removeEventListener("click",m))}),function(){let e=null;if(s.default!==void 0&&(e=s.default({close:d})),c.value!==void 0&&(e=l(c.value)),e===null)return console.warn("[b-modal] no default slot or component provided");const f=l("div",{class:["modal-content"],style:{"max-width":`${v.value}px`}},e),b=l("div",{class:"modal-card",style:{width:"auto"}},e);return l(E,{to:"body"},l("div",{class:["modal",{"is-active":t.value},{"is-full-screen":p.value}],ref:n},[l("div",{class:"modal-background"}),r.value?b:f,...r.value?[]:[l("button",{class:["modal-close","is-large"],ariaLabel:"close",onClick:h=>d(h)})]]))}}}),C=function(){const o=L("modal");return o===void 0?console.warn("[b-modal] there is no provided modal"):{close:o.close}},q={install(o){o.component(u.name,u)}};export{u as default,q as plugin,C as useModal};
